(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(2),s=n.n(i),c=(n(13),n(3)),o=n(4),l=n(5),m=n(7),u=(n(14),n(6));var h=function(e){var t=e.artists,n=Object(a.useState)(""),i=Object(u.a)(n,2),s=i[0],c=i[1];return r.a.createElement("ul",null,r.a.createElement("h5",null,"Recommended by"),t.length>0&&t.map((function(e){return function(e){return r.a.createElement("li",{onClick:function(){s===e.artist_name?c(""):c(e.artist_name)},key:e.artist_name},r.a.createElement("div",{className:"see-source-arrow ".concat(s===e.artist_name?"active":"")}),e.artist_name,s===e.artist_name&&r.a.createElement("a",{className:"active-source",href:e.source_link,target:"_blank",rel:"noopener noreferrer"},e.source_name))}(e)})))},v=function(e){Object(m.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).fetchMovieList=function(){try{fetch("https://the-shot-list-app.herokuapp.com/api/v1/recommendations?page=".concat(a.state.page,"&items=").concat(a.state.items),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token"}}).then((function(e){return e.json()})).then((function(e){return a.setState({movieList:e.movies,resultsLength:e.results_length})}))}catch(e){console.error()}},a.genMovie=function(e){return r.a.createElement("li",{key:e.title},r.a.createElement("h2",{className:"ranking"},e.ranking<10?"0".concat(e.ranking):"".concat(e.ranking)),r.a.createElement("h3",null,e.title),r.a.createElement(h,{artists:e.artists}))},a.onClickPrev=function(){a.setState((function(e){return e.page-=1,{page:e.page}}),(function(){return a.fetchMovieList()}))},a.onClickNext=function(){a.setState((function(e){return e.page+=1,{page:e.page}}),(function(){return a.fetchMovieList()}))},a.state={movieList:[],page:1,items:4,resultsLength:0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.fetchMovieList()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"movie-list"},r.a.createElement("div",{className:"tab-header"},r.a.createElement("h1",null,"The Shot List"),r.a.createElement("p",null,"Filmmakers' Top Picks")),r.a.createElement("ol",null,this.state.movieList.length>0&&this.state.movieList.map((function(t){return e.genMovie(t)}))),r.a.createElement("div",{className:"pagination"},this.state.page>1&&r.a.createElement("div",{className:"prev",onClick:function(){return e.onClickPrev()}},r.a.createElement("h5",null,"prev"),r.a.createElement("div",{className:"prev-arrow"}),r.a.createElement("div",{className:"rectangle"})),this.state.movieList&&this.state.movieList[this.state.movieList.length-1]&&this.state.movieList[this.state.movieList.length-1].ranking!==this.state.resultsLength&&r.a.createElement("div",{className:"next",onClick:function(){return e.onClickNext()}},r.a.createElement("h5",null,"next"),r.a.createElement("div",{className:"rectangle"}),r.a.createElement("div",{className:"next-arrow"}))))}}]),n}(r.a.Component);n(15);var p=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"app-body"},r.a.createElement(v,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.e700d482.chunk.js.map