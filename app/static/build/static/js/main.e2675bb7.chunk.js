(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(2),c=n.n(r),o=(n(13),n(3)),s=n(4),l=n(5),m=n(7),u=(n(14),n(6));var h=function(e){var t=e.artists,n=Object(a.useState)(""),r=Object(u.a)(n,2),c=r[0],o=r[1];return i.a.createElement("ul",null,i.a.createElement("h5",null,"Recommended by"),t.length>0&&t.map((function(e){return function(e){return i.a.createElement("li",{onClick:function(){c===e.artist_name?o(""):o(e.artist_name)},key:e.artist_name},i.a.createElement("div",{className:"see-source-arrow ".concat(c===e.artist_name?"active":"")}),e.artist_name,c===e.artist_name&&i.a.createElement("a",{className:"active-source",href:e.source_link,target:"_blank",rel:"noopener noreferrer"},e.source_name))}(e)})))},v=function(e){Object(m.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchMovieList=function(){try{fetch("http://localhost:5000/api/v1/recommendations?page=".concat(a.state.page,"&items=").concat(a.state.items),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token"}}).then((function(e){return e.json()})).then((function(e){return a.setState({movieList:e.movies,resultsLength:e.results_length})}))}catch(e){console.error()}},a.genMovie=function(e){return i.a.createElement("li",{key:e.title},i.a.createElement("h2",{className:"ranking"},e.ranking<10?"0".concat(e.ranking):"".concat(e.ranking)),i.a.createElement("h3",null,e.title),i.a.createElement(h,{artists:e.artists}))},a.onClickPrev=function(){a.setState((function(e){return e.page-=1,{page:e.page}}),(function(){return a.fetchMovieList()}))},a.onClickNext=function(){a.setState((function(e){return e.page+=1,{page:e.page}}),(function(){return a.fetchMovieList()}))},a.state={movieList:[],page:1,items:4,resultsLength:0},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchMovieList()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"movie-list"},i.a.createElement("div",{className:"tab-title"},i.a.createElement("h1",null,"The Shot List"),i.a.createElement("p",null,"Filmmaker's Top Picks")),i.a.createElement("ol",null,this.state.movieList.length>0&&this.state.movieList.map((function(t){return e.genMovie(t)}))),i.a.createElement("div",{className:"pagination"},this.state.page>1&&i.a.createElement("div",{onClick:function(){return e.onClickPrev()}},i.a.createElement("h5",null,"prev"),i.a.createElement("div",{className:"prev-arrow"}),i.a.createElement("div",{className:"rectangle"})),this.state.movieList&&this.state.movieList[this.state.movieList.length-1]&&this.state.movieList[this.state.movieList.length-1].ranking!==this.state.resultsLength&&i.a.createElement("div",{onClick:function(){return e.onClickNext()}},i.a.createElement("h5",null,"next"),i.a.createElement("div",{className:"rectangle"}),i.a.createElement("div",{className:"next-arrow"}))))}}]),n}(i.a.Component);n(15);var p=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"app-body"},i.a.createElement(v,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.e2675bb7.chunk.js.map